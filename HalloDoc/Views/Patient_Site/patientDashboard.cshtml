@model DataAccess.ViewModel.Dashboardpage

@{
    ViewData["Title"] = "patientDashboard";
}



<div class="modal fade " id="newrequest" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header bg-info ">
                <h5 class="modal-title text-white" id="exampleModalLabel">Create New Request</h5>
                <button type="button" class="btn-close text-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3 text-secondary fs-3">
                    Here,I want  to create new request for...
                </div>
                <div class="d-flex justify-content-center mb-5 ">
                    <button type="button" class="btn btn-info btn-lg p-2 px-4 info-button me-2 my-4" id="me" onclick="btnclick1()">Me</button>
                    <button type="button" class="btn btn-outline-info btn-lg p-2 px-4 button-info my-4" id="someone" onclick="btnclick2()">SomeOne Else</button>
                </div>
                <div class="d-flex justify-content-end">
                    <button type="button" class="btn btn-info btn-lg p-2 px-4 me-3 info-button me-2 " id="continue" onclick="continueclick()">Continue</button>
                    <button type="button" class="btn btn-outline-info btn-lg p-2 px-4 button-info" data-bs-dismiss="modal">Cancel</button>
                </div>

            </div>

        </div>
    </div>
</div>
@await Html.PartialAsync("_Dashboardheader")
<hr>
<div class="tab d-flex  shadow mt-1 ms-1 ">
        <p class="tab-links active-link" onclick="opentab('Dashboard')">Dashboard</p>
        <p class="tab-links" onclick="opentab('Profile')">Profile</p>

    </div>
<div id="Dashboard" class="tab-contents active-tab ">
    <h4 class="mt-5 ms-4">Medical History</h4>
    <div class="container-fluid m-3 bg-light">
        <div class="d-flex justify-content-end mr-5 mt-4">
            <button type="button" class="btn btn-outline-info float-end  button-info" data-bs-toggle="modal" data-bs-target="#newrequest">Create New Request</button>

        </div>
 
        <table class="table table-responsive  mt-3 p-3">
            <thead class="table-secondary">
                <tr>
                    <th scope="col">Created Date <i class="bi bi-arrow-down"></i></th>
                    <th scope="col">Current Status</th>
                   
                    <th scope="col">Document</th>
                </tr>
            </thead>
            <tbody>
              

            @if (Model != null)
            {
                @foreach (var items in Model.Dashboard)
                {
                    

                    <tr>
                        <td>@items.createddate</td>
                        <td>@items.Status</td>  
                      
                            <td>
                               
                                <button type="button" class="btn  btn-outline-info " onclick="location.href='@Url.Action("Document", "Patient_Site")'">(@items.Fcount) Download</button>
                            </td>

                    </tr>
                }
            }
            </tbody>

            </table>
            </>
            </div>



            @*<tbody class="table-group-divider mx-5">
                @if (ViewBag.listofrequest != null)
                {
                    @foreach (var item in ViewBag.listofrequest)
                    {
                        <tr>
                            <td scope="row"> @item.CreatedDate</td>
                            <td>@item.Status</td>
                            <td>
                            </td>
                        </tr>
                    }
                }
            </tbody>*@
</div>
<div id="Profile" class="tab-contents">
    <div class="container shadow mt-4">
        <div class=" d-flex justify-content-end">
            
                <button type="button" class="btn btn-outline-info p-2 pe-3 mt-5  button-info" onclick="location.href='@Url.Action("patientDashboard", "Patient_Site")'">
                    <i class="bi bi-chevron-left i-info"></i>Back
                </button>
            
        </div>
   
        <h4 class="fw-semibold">User Profile</h4>
    
        <form  method="post" action="UpdateProfile" >
           
               <div class="row gy-3 mb-3">
                    <div class="col-xs-12 col-sm-6">
                        <div class="form-floating">
                            <input type="text" class="form-control"  asp-for="Profiles.FirstName" placeholder="First Name" disabled>
                            <label for="comment" class="floatingLabel text-dark">First Name</label>
                        </div>
                    </div>

                <div class="col-xs-12 col-sm-6">
                    <div class="form-floating">
                        <input type="email" class="form-control" value="@Model.Profiles.FirstName placeholder="Last Name" disabled>
                        <label for="comment" class="floatingLabel text-dark">Last Name</label>
                    </div>
                </div>
                    <div class="col-lg-6 col-sm-6">
                        <div class="form-floating">
                        <input type="date" class="form-control" value="Profiles.PhoneNumber" id="phoneNumber" placeholder="Date of Birth" disabled>
                        </div>
                    </div>
                </div>
                <h4 class="mt-4">Contact Info</h4>
            <div class="row gy-3">

                <div class="col-lg-2">
                    <div class="form-floating">
                        <select class="form-select" id="floatingSelect" aria-label="Floating label select example">
                            <option selected>Open this select menu</option>
                            <option value="1">One</option>
                            <option value="2">Two</option>
                            <option value="3">Three</option>
                        </select>
                        <label for="floatingSelect">Works with selects</label>
                    </div>

                </div>
                <div class="col-lg-5">
                    <div class="form-floating">
                        <input type="email" class="form-control" placeholder="Phonenumber" disabled>
                        <label for="comment" class="floatingLabel text-dark">Email</label>
                    </div>
                </div>
                <div class="col-lg-5">
                    <div class="form-floating">
                        <input type="email" class="form-control" placeholder="Email" disabled>
                        <label for="comment" class="floatingLabel text-dark">Email</label>
                    </div>
                </div>

               
            </div>
            <h4 class="mt-4">
                Location Info
                </h4>
                        <div class="row gy-3">

                            <div class="col-xs-12 col-sm-6">
                                <div class="form-floating">
                        <input type="email" class="form-control" placeholder="Street" disabled>
                                    <label for="comment" class="floatingLabel text-dark">Email</label>
                                </div>
                            </div>

                <div class="col-xs-12 col-sm-6">
                    <div class="form-floating">
                        <input type="email" class="form-control" placeholder="City" disabled>
                        <label for="comment" class="floatingLabel text-dark">City</label>
                    </div>
                </div>
                <div class="col-xs-12 col-sm-6">
                    <div class="form-floating">
                        <input type="email" class="form-control" placeholder="State" disabled>
                        <label for="comment" class="floatingLabel text-dark">State</label>
                    </div>
                </div>
                <div class="col-xs-12 col-sm-6">
                    <div class="form-floating">
                        <input type="email" class="form-control" placeholder="Zip Code" disabled>
                        <label for="comment" class="floatingLabel text-dark">Zip Code</label>
                    </div>
                </div>
                <div class="d-flex justify-content-end">
                    <button type="button" id="editBtn" onclick="editDetails()"  class="btn btn-info btn-lg">Edit</button>
                    <button id="saveBtn" type="submit"  class="btn btn-info btn-lg" style="display:none">
                        Save
                    </button>

                </div>
            </form>
    </div>

</div>




@*<script>
 
    function openCity(cityName) {
        var i, tabcontents, tablinks;
        tabcontent = document.getElementsByClassName("tabcontents");
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(cityName).style.display = "block";
        evt.currentTarget.className += " active";
    }
</script>*@
<script>
    var tablinks = document.getElementsByClassName("tab-links");
    var tabcontents = document.getElementsByClassName("tab-contents");

    function opentab(tabname) {
        for (tablink of tablinks) {
            tablink.classList.remove("active-link");
        }
        for (tabcontent of tabcontents) {
            tabcontent.classList.remove("active-tab");
        }
        event.currentTarget.classList.add("active-link");
        document.getElementById(tabname).classList.add("active-tab");

    }





    
        var btnval1 = 0;
    var btnval2 = 0;
    function btnclick1() {
        btnval1 = 1;
        console.log(btnval1);
    }

    function btnclick2() {
        btnval2 = 1;
        console.log(btnval2);
    }

    function continueclick() {
        if (btnval1 = 1) {
            var url = '@Url.Action("Information", "Patient")';
            window.location.href = url;
        }

        if (btnval2 = 1) {
            var url = '@Url.Action("Someonelse", "Patient")';
            window.location.href = url;
        }

    }



</script>
<script>


    function editDetails() {

        var inputs = document.getElementsByTagName("input");
        for (var i = 0; i < inputs.length; i++) {
            inputs[i].disabled = false;
        }

        var selects = document.getElementsByTagName("select");
        for (var i = 0; i < selects.length; i++) {
            selects[i].disabled = false;
        }

        var editBtn = document.getElementById("editBtn");
        editBtn.style.display = "none";

        var saveBtn = document.getElementById("saveBtn");
        saveBtn.style.display = "block";

    }

    //function saveDetails() {

    //    var inputs = document.getElementsByTagName("input");
    //    for (var i = 0; i < inputs.length; i++) {
    //        inputs[i].disabled = true;
    //    }

    //    var selects = document.getElementsByTagName("select");
    //    for (var i = 0; i < selects.length; i++) {
    //        selects[i].disabled = true;
    //    }


    //    var editBtn = document.getElementById("editBtn");
    //    editBtn.style.display = "block";

    //    var saveBtn = document.getElementById("saveBtn");
    //    saveBtn.style.display = "none";



    //}
   
</script>

